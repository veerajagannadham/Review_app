## Enterprise Web Development module - Serverless REST Assignment.

**Name:** Justin Jose

**Demo:** ... link to your YouTube video demonstration ......

### Overview.

This Review_app repository contains the implementation of a serverless REST API for the AWS platform. AWS CDK framework is used to provision its infrastrucrure. In this repository movie review domain has been created and deployed as a stack.

### App API endpoints.

- GET /movies/reviews/[movieId] - Get all the reviews for the specified movie. It will also support an optional query string that specifies a review ID or reviewer identity (email address), e.g. ?revieId=1234
- POST /movies/reviews - add a movie review. Only authenticated users can post a review.
- PUT /movies/{movieId}/reviews/{reviewId} - Update the text of a review.
- GET /reviews/{reviewId}/{movieId}/translation?language=code - Get a translated version of a movie review, using the movie ID and review Id as the identifier.


### Features.


#### Authentication.
The app’s stack infrastructure should include a separate API for processing user authentication requests (the Auth API). It should allow users to self-register, login, and log out.


#### Authorization.

Only authenticated users can perform POST and PUT requests, whereas GET requests are publicly accessible. In addition, only the originator of a review can update it.


#### Amazon Translate.

Translated version of the movie review has been created showed in a get request.


#### Translation persistence (if completed)

[ Explain briefly your solution to the translation persistence requirement - no code excerpts required. Show the structure of a table item that includes review translations, e.g.

- MovieId (Partition key) - Number
- ReviewId - Number (Autogenerated)
- ReviewerId - String (reviewer email address).
- ReviewDate - String, e.g. “2025-01-20”. Updatable.
- Content - String (the review text). Updatable.
- Translations - ?
  ]

#### Custom L2 Construct (if completed)

Here 2 constructs has been created with names app-api.ts and auth-api.ts and they are imported in the main stack review_app-stack.ts

Construct Input props object:

```
type AppApiProps = {
  userPoolId: string;
  userPoolClientId: string;
};

export class AppApi extends Construct {
  constructor(scope: Construct, id: string, props: AppApiProps) {
  }}

```

Construct private properties

```
type AuthApiProps = {
  userPoolId: string;
  userPoolClientId: string;
};

export class AuthApi extends Construct {
  private auth: apig.IResource;
  private userPoolId: string;
  private userPoolClientId: string;
}
```

#### Restricted review updates

In the restricted review updates first extract JWT token from the Cookie header and then Verify JWT token. The user name of the reviewer is then extracted using the key value pair in the JWT token. Proper exception handling is then performed for the JSON, parameters etc. If the reviewer name mataches with the name in Dynamo DB, procceeds with the update and save the review to the Dynamo DB

All the features used in this assigment is only from the lectures.
